<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Driver License Platform - Technical Documentation</title>
    <style>
        body {
            font-family: 'Consolas', 'Courier New', monospace;
            line-height: 1.6;
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
            color: #333;
            background: #fafafa;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #555;
            margin-top: 20px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            margin: 15px 0;
        }
        .code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', monospace;
            color: #c7254e;
        }
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        .info {
            background: #d1ecf1;
            padding: 15px;
            border-left: 4px solid #17a2b8;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #3498db;
            color: white;
        }
        .architecture-diagram {
            background: #f8f9fa;
            padding: 20px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            margin: 20px 0;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Driver License Platform - Technical Documentation</h1>
    <h2 style="color: #7f8c8d;">Developer & Technical Perspective</h2>

    <div class="section">
        <h2>ğŸ—ï¸ System Architecture</h2>
        
        <h3>Technology Stack</h3>
        <table>
            <tr>
                <th>Layer</th>
                <th>Technology</th>
                <th>Version</th>
                <th>Purpose</th>
            </tr>
            <tr>
                <td>Frontend Framework</td>
                <td>React</td>
                <td>18.2.0</td>
                <td>UI component library</td>
            </tr>
            <tr>
                <td>Frontend Build Tool</td>
                <td>Vite</td>
                <td>4.4.5</td>
                <td>Fast build tool and dev server</td>
            </tr>
            <tr>
                <td>Frontend Routing</td>
                <td>React Router DOM</td>
                <td>6.16.0</td>
                <td>Client-side routing</td>
            </tr>
            <tr>
                <td>Frontend Styling</td>
                <td>Tailwind CSS</td>
                <td>3.3.3</td>
                <td>Utility-first CSS framework</td>
            </tr>
            <tr>
                <td>HTTP Client</td>
                <td>Axios</td>
                <td>1.5.0</td>
                <td>Promise-based HTTP requests</td>
            </tr>
            <tr>
                <td>Backend Runtime</td>
                <td>Node.js</td>
                <td>18+</td>
                <td>JavaScript runtime</td>
            </tr>
            <tr>
                <td>Backend Framework</td>
                <td>Express.js</td>
                <td>4.18.2</td>
                <td>Web application framework</td>
            </tr>
            <tr>
                <td>Database</td>
                <td>MongoDB</td>
                <td>7.0</td>
                <td>NoSQL document database</td>
            </tr>
            <tr>
                <td>ODM</td>
                <td>Mongoose</td>
                <td>7.5.0</td>
                <td>MongoDB object modeling</td>
            </tr>
            <tr>
                <td>Authentication</td>
                <td>JWT</td>
                <td>9.0.2</td>
                <td>JSON Web Tokens</td>
            </tr>
            <tr>
                <td>Password Hashing</td>
                <td>bcryptjs</td>
                <td>2.4.3</td>
                <td>Password encryption</td>
            </tr>
        </table>

        <h3>Architecture Diagram</h3>
        <div class="architecture-diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENT BROWSER                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React App (Port 3000)                                 â”‚  â”‚
â”‚  â”‚  - Components (Navbar, ProtectedRoute)                â”‚  â”‚
â”‚  â”‚  - Pages (Home, Login, Dashboard, Tests, etc.)         â”‚  â”‚
â”‚  â”‚  - Contexts (AuthContext)                               â”‚  â”‚
â”‚  â”‚  - Axios HTTP Client                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/REST API
                        â”‚ (Proxy: /api â†’ localhost:5000)
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXPRESS SERVER (Port 5000)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Middleware Stack:                                     â”‚  â”‚
â”‚  â”‚  - Helmet (Security headers)                           â”‚  â”‚
â”‚  â”‚  - CORS (Cross-origin resource sharing)                 â”‚  â”‚
â”‚  â”‚  - express.json() (Body parser)                         â”‚  â”‚
â”‚  â”‚  - Rate Limiter (100 req/15min)                        â”‚  â”‚
â”‚  â”‚  - Auth Middleware (JWT verification)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Route Handlers:                                       â”‚  â”‚
â”‚  â”‚  - /api/auth (register, login, me)                    â”‚  â”‚
â”‚  â”‚  - /api/tests (CRUD operations)                       â”‚  â”‚
â”‚  â”‚  - /api/appointments (booking, management)           â”‚  â”‚
â”‚  â”‚  - /api/states (state information)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Mongoose ODM
                        â”‚ Connection Pool
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MONGODB DATABASE                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Collections:                                          â”‚  â”‚
â”‚  â”‚  - users (email, password hash, state, role)          â”‚  â”‚
â”‚  â”‚  - tests (state, questions, answers, passing score)   â”‚  â”‚
â”‚  â”‚  - appointments (user, date, time, location, status)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </div>
    </div>

    <div class="section">
        <h2>ğŸ“ Project Structure</h2>
        
        <div class="code-block">
driver-license-platform/
â”œâ”€â”€ client/                          # React frontend application
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/             # Reusable React components
â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.jsx          # Navigation bar component
â”‚   â”‚   â”‚   â””â”€â”€ ProtectedRoute.jsx  # Route protection wrapper
â”‚   â”‚   â”œâ”€â”€ contexts/               # React Context providers
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.jsx     # Authentication state management
â”‚   â”‚   â”œâ”€â”€ pages/                  # Page-level components
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Tests.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TestTaking.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Appointments.jsx
â”‚   â”‚   â”‚   â””â”€â”€ BookAppointment.jsx
â”‚   â”‚   â”œâ”€â”€ App.jsx                 # Main app component with routing
â”‚   â”‚   â”œâ”€â”€ main.jsx                # React entry point
â”‚   â”‚   â””â”€â”€ index.css               # Global styles + Tailwind
â”‚   â”œâ”€â”€ index.html                  # HTML template
â”‚   â”œâ”€â”€ vite.config.js              # Vite configuration
â”‚   â”œâ”€â”€ tailwind.config.js           # Tailwind CSS config
â”‚   â””â”€â”€ package.json                # Frontend dependencies
â”‚
â”œâ”€â”€ models/                          # Mongoose schemas
â”‚   â”œâ”€â”€ User.js                      # User model (email, password, state)
â”‚   â”œâ”€â”€ Test.js                      # Test model (questions, answers)
â”‚   â””â”€â”€ Appointment.js               # Appointment model (booking data)
â”‚
â”œâ”€â”€ routes/                          # Express route handlers
â”‚   â”œâ”€â”€ auth.js                      # Authentication routes
â”‚   â”œâ”€â”€ tests.js                     # Test CRUD operations
â”‚   â”œâ”€â”€ appointments.js               # Appointment management
â”‚   â””â”€â”€ states.js                    # State information API
â”‚
â”œâ”€â”€ middleware/                      # Custom Express middleware
â”‚   â””â”€â”€ auth.js                      # JWT authentication middleware
â”‚
â”œâ”€â”€ k8s/                             # Kubernetes manifests
â”‚   â”œâ”€â”€ namespace.yaml               # K8s namespace
â”‚   â”œâ”€â”€ app-deployment.yaml           # Application deployment
â”‚   â”œâ”€â”€ app-service.yaml              # LoadBalancer service
â”‚   â”œâ”€â”€ mongodb-deployment.yaml       # MongoDB deployment
â”‚   â”œâ”€â”€ hpa.yaml                     # Horizontal Pod Autoscaler
â”‚   â””â”€â”€ ingress.yaml                  # Ingress configuration
â”‚
â”œâ”€â”€ scripts/                          # Utility scripts
â”‚   â””â”€â”€ init-sample-data.js          # Seed database with sample data
â”‚
â”œâ”€â”€ server.js                        # Express server entry point
â”œâ”€â”€ package.json                     # Backend dependencies
â”œâ”€â”€ .env                             # Environment variables (gitignored)
â”œâ”€â”€ .env.example                     # Environment template
â”œâ”€â”€ Dockerfile                       # Multi-stage Docker build
â”œâ”€â”€ docker-compose.yml               # Local development with Docker
â””â”€â”€ README.md                        # Project documentation
        </div>
    </div>

    <div class="section">
        <h2>ğŸ”§ Development Setup</h2>
        
        <h3>Prerequisites</h3>
        <ul>
            <li><strong>Node.js:</strong> v18.0.0 or higher</li>
            <li><strong>npm:</strong> v9.0.0 or higher (comes with Node.js)</li>
            <li><strong>MongoDB:</strong> v7.0 or higher (local or Atlas)</li>
            <li><strong>Git:</strong> For version control</li>
        </ul>

        <h3>Installation Steps</h3>
        
        <h4>1. Clone Repository</h4>
        <div class="code-block">git clone https://github.com/goutham432/Driver_License_App.git
cd Driver_License_App</div>

        <h4>2. Install Backend Dependencies</h4>
        <div class="code-block">npm install</div>
        <p>This installs:</p>
        <ul>
            <li><span class="code">express</span> - Web framework</li>
            <li><span class="code">mongoose</span> - MongoDB ODM</li>
            <li><span class="code">jsonwebtoken</span> - JWT authentication</li>
            <li><span class="code">bcryptjs</span> - Password hashing</li>
            <li><span class="code">cors</span> - CORS middleware</li>
            <li><span class="code">helmet</span> - Security headers</li>
            <li><span class="code">express-rate-limit</span> - Rate limiting</li>
            <li><span class="code">dotenv</span> - Environment variables</li>
            <li><span class="code">nodemon</span> - Development auto-reload</li>
        </ul>

        <h4>3. Install Frontend Dependencies</h4>
        <div class="code-block">cd client
npm install
cd ..</div>
        <p>This installs:</p>
        <ul>
            <li><span class="code">react</span> & <span class="code">react-dom</span> - React library</li>
            <li><span class="code">react-router-dom</span> - Client-side routing</li>
            <li><span class="code">axios</span> - HTTP client</li>
            <li><span class="code">vite</span> - Build tool and dev server</li>
            <li><span class="code">tailwindcss</span> - CSS framework</li>
            <li><span class="code">lucide-react</span> - Icon library</li>
        </ul>

        <h4>4. Environment Configuration</h4>
        <div class="code-block">cp env.example .env</div>
        <p>Edit <span class="code">.env</span> with your configuration:</p>
        <div class="code-block">MONGODB_URI=mongodb://localhost:27017/driver-license-platform
JWT_SECRET=your-super-secret-jwt-key-change-in-production
PORT=5000
NODE_ENV=development
CLIENT_URL=http://localhost:3000</div>

        <h4>5. Initialize Database (Optional)</h4>
        <div class="code-block">node scripts/init-sample-data.js</div>
        <p>This creates sample users, tests, and appointments for testing.</p>

        <h4>6. Start Development Servers</h4>
        <p><strong>Terminal 1 - Backend:</strong></p>
        <div class="code-block">npm run dev</div>
        <p>Starts Express server on port 5000 with nodemon (auto-reload on file changes).</p>
        
        <p><strong>Terminal 2 - Frontend:</strong></p>
        <div class="code-block">cd client
npm run dev</div>
        <p>Starts Vite dev server on port 3000 with hot module replacement (HMR).</p>

        <h4>7. Access Application</h4>
        <ul>
            <li><strong>Frontend:</strong> http://localhost:3000</li>
            <li><strong>Backend API:</strong> http://localhost:5000</li>
            <li><strong>Health Check:</strong> http://localhost:5000/health</li>
        </ul>
    </div>

    <div class="section">
        <h2>ğŸ” Authentication Flow</h2>
        
        <h3>Registration Flow</h3>
        <ol>
            <li>User submits registration form (email, password, state)</li>
            <li>Frontend sends POST request to <span class="code">/api/auth/register</span></li>
            <li>Backend validates input and checks for existing user</li>
            <li>Password is hashed using bcryptjs (10 salt rounds)</li>
            <li>User document is saved to MongoDB</li>
            <li>JWT token is generated (expires in 7 days)</li>
            <li>Token and user data are returned to frontend</li>
            <li>Frontend stores token in localStorage and sets Authorization header</li>
        </ol>

        <h3>Login Flow</h3>
        <ol>
            <li>User submits login form (email, password)</li>
            <li>Frontend sends POST request to <span class="code">/api/auth/login</span></li>
            <li>Backend finds user by email</li>
            <li>Password is verified using bcryptjs.compare()</li>
            <li>JWT token is generated and returned</li>
            <li>Frontend stores token and redirects to dashboard</li>
        </ol>

        <h3>Protected Route Access</h3>
        <ol>
            <li>User navigates to protected route (e.g., /dashboard)</li>
            <li>Frontend checks for token in localStorage</li>
            <li>If token exists, adds to Authorization header: <span class="code">Bearer &lt;token&gt;</span></li>
            <li>Backend middleware extracts token from header</li>
            <li>JWT is verified using secret key</li>
            <li>User data is attached to <span class="code">req.user</span></li>
            <li>Route handler processes request with user context</li>
        </ol>

        <h3>Code Example - Auth Middleware</h3>
        <div class="code-block">const jwt = require('jsonwebtoken');
const User = require('../models/User');

const protect = async (req, res, next) => {
  let token;

  if (req.headers.authorization && 
      req.headers.authorization.startsWith('Bearer')) {
    try {
      token = req.headers.authorization.split(' ')[1];
      const decoded = jwt.verify(token, process.env.JWT_SECRET);
      req.user = await User.findById(decoded.id).select('-password');
      next();
    } catch (error) {
      res.status(401).json({ message: 'Not authorized' });
    }
  } else {
    res.status(401).json({ message: 'Not authorized, no token' });
  }
};

module.exports = { protect };</div>
    </div>

    <div class="section">
        <h2>ğŸ“Š Database Schema</h2>
        
        <h3>User Model</h3>
        <div class="code-block">{
  email: String (required, unique, indexed),
  password: String (required, hashed with bcrypt),
  name: String (required),
  state: String (required, enum: ['CA', 'TX', 'FL', 'NY']),
  role: String (default: 'user', enum: ['user', 'admin']),
  testScores: [{
    testId: ObjectId,
    score: Number,
    passed: Boolean,
    completedAt: Date
  }],
  createdAt: Date,
  updatedAt: Date
}</div>

        <h3>Test Model</h3>
        <div class="code-block">{
  title: String (required),
  state: String (required, enum: ['CA', 'TX', 'FL', 'NY']),
  category: String (enum: ['knowledge', 'road']),
  difficulty: String (enum: ['easy', 'medium', 'hard']),
  questions: [{
    questionText: String (required),
    options: [String] (required, length: 4),
    correctAnswer: String (required),
    explanation: String
  }],
  timeLimit: Number (minutes, default: 30),
  passingScore: Number (percentage, default: 80),
  createdAt: Date,
  updatedAt: Date
}</div>

        <h3>Appointment Model</h3>
        <div class="code-block">{
  user: ObjectId (ref: 'User', required),
  state: String (required),
  location: String (required),
  appointmentType: String (enum: ['knowledge', 'road']),
  date: Date (required),
  timeSlot: String (required),
  status: String (enum: ['scheduled', 'completed', 'cancelled'], default: 'scheduled'),
  confirmationNumber: String (unique),
  createdAt: Date,
  updatedAt: Date
}</div>
    </div>

    <div class="section">
        <h2>ğŸ”Œ API Endpoints</h2>
        
        <h3>Authentication Endpoints</h3>
        <table>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Auth Required</th>
            </tr>
            <tr>
                <td>POST</td>
                <td><span class="code">/api/auth/register</span></td>
                <td>Register new user</td>
                <td>No</td>
            </tr>
            <tr>
                <td>POST</td>
                <td><span class="code">/api/auth/login</span></td>
                <td>User login</td>
                <td>No</td>
            </tr>
            <tr>
                <td>GET</td>
                <td><span class="code">/api/auth/me</span></td>
                <td>Get current user</td>
                <td>Yes</td>
            </tr>
        </table>

        <h3>Test Endpoints</h3>
        <table>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Auth Required</th>
            </tr>
            <tr>
                <td>GET</td>
                <td><span class="code">/api/tests/state/:state</span></td>
                <td>Get tests by state</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>GET</td>
                <td><span class="code">/api/tests/:testId</span></td>
                <td>Get specific test</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>POST</td>
                <td><span class="code">/api/tests/:testId/submit</span></td>
                <td>Submit test answers</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>GET</td>
                <td><span class="code">/api/tests/user/history</span></td>
                <td>Get user's test history</td>
                <td>Yes</td>
            </tr>
        </table>

        <h3>Appointment Endpoints</h3>
        <table>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Auth Required</th>
            </tr>
            <tr>
                <td>GET</td>
                <td><span class="code">/api/appointments/slots/:state/:date</span></td>
                <td>Get available slots</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>POST</td>
                <td><span class="code">/api/appointments/book</span></td>
                <td>Book appointment</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>GET</td>
                <td><span class="code">/api/appointments/my-appointments</span></td>
                <td>Get user's appointments</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>PATCH</td>
                <td><span class="code">/api/appointments/:id/cancel</span></td>
                <td>Cancel appointment</td>
                <td>Yes</td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>ğŸ³ Docker Deployment</h2>
        
        <h3>Dockerfile (Multi-stage Build)</h3>
        <div class="code-block"># Stage 1: Build React frontend
FROM node:20-alpine AS frontend-builder
WORKDIR /app/client
COPY client/package*.json ./
RUN npm install
COPY client/ .
RUN npm run build

# Stage 2: Build Node.js backend
FROM node:20-alpine AS backend-builder
WORKDIR /app
COPY package*.json ./
RUN npm install --production
COPY . .

# Stage 3: Final image
FROM node:20-alpine
WORKDIR /app
COPY --from=backend-builder /app .
COPY --from=frontend-builder /app/client/dist ./client/dist
EXPOSE 5000
CMD ["node", "server.js"]</div>

        <h3>Docker Compose</h3>
        <div class="code-block">version: '3.8'
services:
  app:
    build: .
    ports:
      - "5000:5000"
    environment:
      - MONGODB_URI=mongodb://mongodb:27017/driver-license-platform
      - JWT_SECRET=${JWT_SECRET}
    depends_on:
      - mongodb
  
  mongodb:
    image: mongo:7.0
    ports:
      - "27017:27017"
    volumes:
      - mongo-data:/data/db

volumes:
  mongo-data:</div>
    </div>

    <div class="section">
        <h2>â˜¸ï¸ Kubernetes Deployment</h2>
        
        <h3>Deployment Strategy</h3>
        <ul>
            <li><strong>Namespace:</strong> <span class="code">driver-license-platform</span></li>
            <li><strong>Replicas:</strong> 3 (for high availability)</li>
            <li><strong>HPA:</strong> Auto-scale 2-10 pods based on CPU (70% threshold)</li>
            <li><strong>Service Type:</strong> LoadBalancer (DigitalOcean)</li>
            <li><strong>Ingress:</strong> Nginx with SSL/TLS (cert-manager)</li>
        </ul>

        <h3>Resource Limits</h3>
        <div class="code-block">resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "512Mi"</div>

        <h3>Health Checks</h3>
        <div class="code-block">livenessProbe:
  httpGet:
    path: /health
    port: 5000
  initialDelaySeconds: 30
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /health
    port: 5000
  initialDelaySeconds: 10
  periodSeconds: 5</div>
    </div>

    <div class="section">
        <h2>ğŸ”’ Security Implementation</h2>
        
        <h3>Password Security</h3>
        <div class="code-block">const bcrypt = require('bcryptjs');

// Hash password before saving
UserSchema.pre('save', async function(next) {
  if (!this.isModified('password')) return next();
  const salt = await bcrypt.genSalt(10);
  this.password = await bcrypt.hash(this.password, salt);
  next();
});</div>

        <h3>JWT Token Generation</h3>
        <div class="code-block">const jwt = require('jsonwebtoken');

const token = jwt.sign(
  { id: user._id },
  process.env.JWT_SECRET,
  { expiresIn: '7d' }
);</div>

        <h3>Rate Limiting</h3>
        <div class="code-block">const rateLimit = require('express-rate-limit');

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 100 // limit each IP to 100 requests per windowMs
});

app.use('/api/', limiter);</div>

        <h3>Security Headers (Helmet)</h3>
        <div class="code-block">const helmet = require('helmet');
app.use(helmet());</div>
        <p>Helmet sets various HTTP headers for security:
        <ul>
            <li>X-Content-Type-Options: nosniff</li>
            <li>X-Frame-Options: SAMEORIGIN</li>
            <li>X-XSS-Protection: 1; mode=block</li>
            <li>Strict-Transport-Security (HSTS)</li>
        </ul>
    </div>

    <div class="section">
        <h2>ğŸš€ Performance Optimizations</h2>
        
        <h3>Frontend</h3>
        <ul>
            <li><strong>Code Splitting:</strong> React.lazy() for route-based splitting</li>
            <li><strong>Vite HMR:</strong> Fast hot module replacement in development</li>
            <li><strong>Production Build:</strong> Minified and optimized bundles</li>
            <li><strong>Axios Interceptors:</strong> Centralized request/response handling</li>
        </ul>

        <h3>Backend</h3>
        <ul>
            <li><strong>MongoDB Indexing:</strong> Indexed email and state fields</li>
            <li><strong>Connection Pooling:</strong> Mongoose connection pool</li>
            <li><strong>Response Compression:</strong> Express compression middleware</li>
            <li><strong>Caching:</strong> Consider Redis for session/token caching</li>
        </ul>
    </div>

    <div class="section">
        <h2>ğŸ“ Development Best Practices</h2>
        
        <h3>Code Organization</h3>
        <ul>
            <li>Separation of concerns (routes, models, middleware)</li>
            <li>Reusable React components</li>
            <li>Context API for global state (authentication)</li>
            <li>Environment variables for configuration</li>
        </ul>

        <h3>Error Handling</h3>
        <div class="code-block">// Express error middleware
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(err.status || 500).json({
    message: err.message || 'Internal Server Error',
    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
  });
});</div>

        <h3>Logging</h3>
        <ul>
            <li>Console logging for development</li>
            <li>Consider winston or morgan for production</li>
            <li>Structured logging for better debugging</li>
        </ul>
    </div>

    <div style="margin-top: 40px; padding: 20px; background: #e8f4f8; border-radius: 8px;">
        <p><strong>Document Version:</strong> 1.0</p>
        <p><strong>Last Updated:</strong> 2024</p>
        <p><strong>Author:</strong> Goutham</p>
        <p><strong>Repository:</strong> https://github.com/goutham432/Driver_License_App</p>
    </div>
</body>
</html>

